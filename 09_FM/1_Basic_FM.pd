#N canvas 195 25 1251 875 12;
#X obj 47 56 hsl 170 20 0 1000 0 0 empty empty empty -2 -10 0 12 #fcfcfc #000000 #000000 0 1;
#X obj 79 377 +~;
#X obj 133 249 *~;
#X floatatom 134 118 5 0 0 0 - - - 0;
#X floatatom 156 219 5 0 0 0 - - - 0;
#X obj 78 794 dac~;
#X obj 184 605 tgl 20 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000 0 1;
#X text 96 683 Line Ausgang zur Soundcard.;
#X text 36 3 Einfache_Frequenz-Modulation;
#N canvas 0 50 450 250 (subpatch) 0;
#X array fm_2 100 float 1;
#A 0 -0.451824 -0.431284 -0.410362 -0.389065 -0.367399 -0.34537 -0.322988 -0.30026 -0.277197 -0.253808 -0.230105 -0.206098 -0.181801 -0.157225 -0.132385 -0.107295 -0.0819689 -0.0564237 -0.030675 -0.00473967 0.0213647 0.0476204 0.0740078 0.100506 0.127097 0.153758 0.18047 0.207211 0.23395 0.260672 0.287353 0.313968 0.340482 0.36688 0.393139 0.419218 0.445099 0.470762 0.496158 0.521276 0.546088 0.570545 0.594646 0.618334 0.6416 0.664404 0.686715 0.708511 0.729748 0.750414 0.770458 0.789869 0.808603 0.826636 0.843946 0.860481 0.876249 0.891172 0.905266 0.918488 0.930796 0.942196 0.952634 0.962089 0.970558 0.977999 0.984381 0.989707 0.993958 0.997078 0.999079 0.999948 0.999668 0.998205 0.995555 0.991717 0.986681 0.980438 0.972978 0.96428 0.95436 0.943216 0.930849 0.91726 0.902454 0.886435 0.869212 0.850795 0.831196 0.810429 0.788506 0.765452 0.741285 0.716028 0.689707 0.662346 0.633974 0.604622 0.574325 0.543116;
#X coords 0 1 99 -1 200 140 1;
#X restore 741 306 graph;
#N canvas 45 83 566 577 fft 0;
#X obj 19 61 inlet~;
#X obj 95 214 inlet;
#X obj 29 92 rfft~;
#X obj 29 125 *~;
#X obj 60 125 *~;
#X obj 29 155 sqrt~;
#X obj 332 109 block~ 4096 1;
#X obj 29 181 biquad~ 0 0 0 0 1;
#X text 93 93 Fourier series;
#X text 98 146 magnitude;
#X text 96 131 calculate;
#X text 21 3 This subpatch computes the spectrum of the incoming signal with a (rectangular windowed) FFT. FFTs aren't properly introduced until much later.;
#X text 83 61 signal to analyze;
#X text 192 166 delay two samples;
#X text 191 182 for better graphing;
#X obj 16 425 samplerate~;
#X obj 16 402 bng 18 250 50 0 empty empty empty 0 -6 0 8 #fcfcfc #000000 #000000;
#X floatatom 16 472 5 0 0 0 - - - 0;
#X obj 16 448 / 256;
#X obj 16 378 loadbang;
#X floatatom 16 541 5 0 0 0 - - - 0;
#X obj 24 494 s fundamental;
#X obj 16 517 ftom;
#X text 14 319 At load time \, calculate a good choice of fundamental frequency for showing spectra: the 16th bin in a 4096-point spectrum \, so SR*16/4096 or SR/256.;
#X text 145 216 "bang" into this inlet to graph it;
#X floatatom 191 480 5 0 0 0 - - - 0;
#X obj 191 456 / 4096;
#X text 187 425 One bin is SR/4096:;
#X text 72 540 <-just out of curiosity \, here's the fundamental pitch;
#X obj 191 502 s freq-step;
#X obj 95 248 tabwrite~ \$0-sidebands;
#X obj 20 281 tabwrite~ \$0-sidebands;
#X connect 0 0 2 0;
#X connect 0 0 31 0;
#X connect 1 0 30 0;
#X connect 1 0 31 0;
#X connect 2 0 3 0;
#X connect 2 0 3 1;
#X connect 2 1 4 0;
#X connect 2 1 4 1;
#X connect 3 0 5 0;
#X connect 4 0 5 0;
#X connect 5 0 7 0;
#X connect 7 0 30 0;
#X connect 15 0 18 0;
#X connect 15 0 26 0;
#X connect 16 0 15 0;
#X connect 17 0 21 0;
#X connect 17 0 22 0;
#X connect 18 0 17 0;
#X connect 19 0 16 0;
#X connect 22 0 20 0;
#X connect 25 0 29 0;
#X connect 26 0 25 0;
#X restore 133 578 pd fft;
#X text 216 534 graph frequencies;
#X obj 191 557 metro 20;
#X obj 191 536 tgl 15 0 empty empty empty 17 7 0 10 #fcfcfc #000000 #000000 0 1;
#N canvas 0 22 450 300 (subpatch) 0;
#X array \$0-sidebands 100 float 0;
#X coords 0 2000 100 -40 200 130 1;
#X restore 949 307 graph;
#X text 1025 444 500 Hz;
#X text 944 438 0 Hz;
#X text 1096 446 1000 Hz;
#X text 214 603 Graph Output;
#X obj 77 740 *~;
#X obj 171 770 line~;
#X msg 171 746 \$1 10;
#X obj 324 641 vsl 19 162 0 1 0 0 empty empty empty 0 -9 0 12 #fcfcfc #000000 #000000 0 1;
#N canvas 150 175 789 683 graph 0;
#X obj 161 79 metro 100;
#X obj 138 137 table fm;
#X obj 139 111 tabwrite~ fm;
#X obj 130 183 tabwrite~ fm_2;
#X obj 37 31 inlet~;
#X obj 168 37 inlet;
#X connect 0 0 3 0;
#X connect 0 0 2 0;
#X connect 4 0 2 0;
#X connect 4 0 3 0;
#X connect 5 0 0 0;
#X restore 133 633 pd graph;
#X floatatom 44 83 5 0 0 0 - - - 0;
#X obj 137 88 hsl 170 20 0.5 500 1 0 empty empty empty -2 -10 0 12 #fcfcfc #000000 #000000 0 1;
#X text 206 218 Index;
#X obj 145 458 snapshot~;
#X obj 146 433 metro 50;
#X obj 147 413 tgl 19 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000 0 1;
#X floatatom 145 479 5 0 0 0 - - - 0;
#X obj 44 114 sig~;
#X obj 79 457 osc~;
#X obj 133 147 osc~;
#X obj 157 182 hsl 162 19 0 10000 0 0 empty empty empty -2 -10 0 12 #fcfcfc #000000 #000000 0 1;
#X text 115 361 Das Modulator-Signal wird zum Carrier addiert (der Carrier verhält sich dabei wie die 0-Linie). Dieser Wert wird zum Input für einen Oszillator.;
#X text 260 216 Der Index bestimmt die maximale Amplitude des Modulator-Signals (-> Ambitus der Modulation). Ein Index von 100 bedeutet beispielsweise \, dass je nach Phase des osc~ Werte zwischen -100 und 100 zum Carrier addiert (bzw. substrahiert) werden. Klanglich also bei langsamer Mod-Freq die "Tiefe" (Ambitus des Vibratos) \, bei höheren Modulationsfrequenzen die Stärke und Anzahl der Seitenbänder.;
#X text 319 86 Modulator-FREQ;
#X text 47 34 Carrier-Freq;
#X msg 606 39 \; carr 360 \; mod 230;
#X obj 255 37 r carr;
#X obj 360 52 r mod;
#X msg 704 22 e;
#X obj 410 676 writesf~;
#X msg 431 621 start;
#X msg 482 622 stop;
#X msg 406 589 open ./test2.wav;
#X connect 0 0 24 0;
#X connect 1 0 27 0;
#X connect 1 0 32 0;
#X connect 2 0 1 1;
#X connect 3 0 33 0;
#X connect 4 0 2 1;
#X connect 6 0 23 1;
#X connect 12 0 10 1;
#X connect 13 0 12 0;
#X connect 19 0 5 0;
#X connect 19 0 5 1;
#X connect 20 0 19 1;
#X connect 21 0 20 0;
#X connect 22 0 21 0;
#X connect 24 0 31 0;
#X connect 25 0 3 0;
#X connect 27 0 30 0;
#X connect 28 0 27 0;
#X connect 29 0 28 0;
#X connect 31 0 1 0;
#X connect 32 0 10 0;
#X connect 32 0 19 0;
#X connect 32 0 23 0;
#X connect 33 0 2 0;
#X connect 34 0 4 0;
#X connect 40 0 0 0;
#X connect 41 0 25 0;
#X connect 44 0 43 0;
#X connect 45 0 43 0;
#X connect 46 0 43 0;
